{"version":3,"sources":["../../../src/EverkineticParser/extractors/ExerciseExtractor.js"],"names":["ExerciseExtractor","exerciseUrls","fetcher","ExerciseDocumentFactory","exerciseDocumentFactory","exercisePromises","i","push","fetch","then","console","log","output","length","Promise","all","values","map","get","$","extract"],"mappings":";;;;;;;;;;IAAaA,iB,WAAAA,iB;AAET,+BAAYC,YAAZ,EAA0BC,OAA1B,EAAmCC,uBAAnC,EAA4D;AAAA;;AACxD,aAAKF,YAAL,GAAoBA,YAApB;AACA,aAAKC,OAAL,GAAeA,OAAf;AACA,aAAKE,uBAAL,GAA+BD,uBAA/B;AACH;;;;kCAES;AAAA;;AAEN,gBAAIE,mBAAmB,EAAvB;;AAFM,uCAIGC,CAJH;AAKFD,iCAAiBE,IAAjB,CAAsB,MAAKL,OAAL,CAAaM,KAAb,CAAmB,MAAKP,YAAL,CAAkBK,CAAlB,CAAnB,EACjBG,IADiB,CACZ,kBAAQ;AACVC,4BAAQC,GAAR,qBAA8B,MAAKV,YAAL,CAAkBK,CAAlB,CAA9B;AACA,2BAAOM,MAAP;AACH,iBAJiB,CAAtB;AALE;;AAIN,iBAAK,IAAIN,IAAI,CAAb,EAAgBA,IAAI,KAAKL,YAAL,CAAkBY,MAAtC,EAA8CP,GAA9C,EAAmD;AAAA,sBAA1CA,CAA0C;AAOlD;AACD,mBAAOQ,QAAQC,GAAR,CAAYV,gBAAZ,EACFI,IADE,CACG,UAACO,MAAD,EAAY;AACd,uBAAOA,OAAOC,GAAP,CAAW;AAAA,2BAAK,MAAKb,uBAAL,CAA6Bc,GAA7B,CAAiCC,CAAjC,EAAoCC,OAApC,EAAL;AAAA,iBAAX,CAAP;AACH,aAHE,CAAP;AAIH","file":"ExerciseExtractor.js","sourcesContent":["export class ExerciseExtractor {\n\n    constructor(exerciseUrls, fetcher, ExerciseDocumentFactory) {\n        this.exerciseUrls = exerciseUrls;\n        this.fetcher = fetcher;\n        this.exerciseDocumentFactory = ExerciseDocumentFactory;\n    }\n\n    extract() {\n\n        let exercisePromises = [];\n\n        for (let i = 0; i < this.exerciseUrls.length; i++) {\n            exercisePromises.push(this.fetcher.fetch(this.exerciseUrls[i])\n                .then(output=>{\n                    console.log(`fetch exercise ${this.exerciseUrls[i]}`);\n                    return output;\n                })\n            );\n        }\n        return Promise.all(exercisePromises)\n            .then((values) => {\n                return values.map($ => this.exerciseDocumentFactory.get($).extract());\n            });\n    }\n\n}"]}